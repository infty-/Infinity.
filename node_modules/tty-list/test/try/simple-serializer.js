var term = require('node-terminal');
var Cache = require('cache-arg');
require('help').global.globalize();
globalize(require('help').func, Function.prototype);

function Cmd(doc) {
    this.doc = doc;
};
Cmd.toAnsi = Cache(function (struct) {
    return bindMeth(isObj, 'neg').argBack(struct, function () {
	return struct.ansi.map(function (ansi_) {
	    return Cmd.toAnsi(ansi_);
	}).join('');
    });
});
Cmd.prototype.put = function () {
    var ansi = Cmd.toAnsi(this.doc);
    process.stdout.write(ansi);
}

module.exports = Cmd;