var vows = require('vows');
var assert = require('assert');
var Victim = require('commit-obj');
var Emitter = require('eventemitter2').EventEmitter2;

vows.describe('index').addBatch({
    'new `ObjCommiter`': {
	topic: function () {
	    var vicVictim = {
		    'a': 11,
		    'b': 11.1,
		    'c': 11.11
		};
	    var emitter = new Emitter;
	    return new Victim(vicVictim, emitter);
	},
	
	'`pairs`': {
	    topic: function ($) {
		return $.pairs;
	    },
	    'is object': function ($) {
		assert.isObject($);
	    }
	},	
	'`getPropsAges` [praxis usage]': {
	    topic: function ($) {
		$.getPropsAges([
		    'a',
		    'c',
		    'd'
		], [
		    'c'
		]);
	    },
	    'returns a hash of arrays': function ($) {
		for (var $_Key in $) {
		    var $_ = $[$_Key];
		    
		    assert.isArray($_);
		};
	    },
	    'has 3 keys': function ($) {
		assert.equal(3, Object.keys($).length);
	    }
	}
    }
});